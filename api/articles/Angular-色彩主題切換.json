{"title":"Angular--色彩主題切換","uid":"c9c9b73ef44839dbb335039ef74dcf94","slug":"Angular-色彩主題切換","date":"2021-08-30T12:40:22.000Z","updated":"2021-08-30T12:58:11.763Z","comments":true,"path":"api/articles/Angular-色彩主題切換.json","keywords":null,"cover":[],"content":"<p>簡單介紹一下色彩切換功能<br><img src=\"https://i.imgur.com/aNhBD8b.gif\"></p>\n<h3 id=\"建立2個獨立的主題\"><a href=\"#建立2個獨立的主題\" class=\"headerlink\" title=\"建立2個獨立的主題\"></a>建立2個獨立的主題</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">$dark-primary: mat-palette($dark-primary, 900);\n$dark-accent:  mat-palette($mat-cyan);\n$dark-warn:    mat-palette($mat-red);\n\n$dark-theme: mat-dark-theme($dark-primary, $dark-accent, $dark-warn);\n&#x2F;&#x2F; class包裹其他樣式\n.dark-theme &#123;\n  @include angular-material-theme($dark-theme);\n&#125;\n\n$light-primary: mat-palette($mat-indigo);\n$light-accent:  mat-palette($mat-lime);\n$light-warn:    mat-palette($mat-pink);\n\n$light-theme: mat-light-theme($light-primary, $light-accent, $light-warn);\n&#x2F;&#x2F; class包裹其他樣式\n.light-theme &#123;\n  @include angular-material-theme($light-theme);\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"在app-component建立切換功能\"><a href=\"#在app-component建立切換功能\" class=\"headerlink\" title=\"在app.component建立切換功能\"></a>在app.component建立切換功能</h3><p>因為menu、dialog等元件在OverlayContainer，與app.component平級，所以額外改變其樣式</p>\n<h4 id=\"html\"><a href=\"#html\" class=\"headerlink\" title=\"html\"></a>html</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;div [class]&#x3D;&quot;theme&quot;&gt;\n  &lt;router-outlet&gt;&lt;&#x2F;router-outlet&gt;\n&lt;&#x2F;div&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"ts\"><a href=\"#ts\" class=\"headerlink\" title=\"ts\"></a>ts</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">import &#123; Component, OnInit &#125; from &#39;@angular&#x2F;core&#39;;\n\nimport &#123; OverlayContainer &#125; from &#39;@angular&#x2F;cdk&#x2F;overlay&#39;;\n\n@Component(&#123;\n  selector: &#39;app-root&#39;,\n  templateUrl: &#39;.&#x2F;app.component.html&#39;,\n  styleUrls: [&#39;.&#x2F;app.component.scss&#39;]\n&#125;)\nexport class AppComponent implements OnInit &#123;\n\n  constructor(private overlayContainer: OverlayContainer) &#123;&#125;\n\n  ngOnInit() &#123;\n    this.overlayContainer.getContainerElement().classList.add(this.theme);\n    toggleTheme(&#39;light-theme&#39;) &#x2F;&#x2F; 看想要怎麼觸發\n  &#125;\n\n  theme &#x3D; &#39;dark-theme&#39;;\n\n  toggleTheme(newTheme) &#123;\n    this.overlayContainer.getContainerElement().classList.remove(this.theme);\n    this.overlayContainer.getContainerElement().classList.add(newTheme);\n    this.theme &#x3D; newTheme;\n  &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","text":"簡單介紹一下色彩切換功能 建立2個獨立的主題$dark-primary: mat-palette($dark-primary, 900); $dark-accent: mat-palette($mat-cyan); $dark-warn: mat-palette($mat-red...","link":"","photos":[],"count_time":{"symbolsCount":"1.7k","symbolsTime":"2 mins."},"categories":[{"name":"Frontend","slug":"Frontend","count":1,"path":"api/categories/Frontend.json"}],"tags":[{"name":"Angular","slug":"Angular","count":1,"path":"api/tags/Angular.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%BB%BA%E7%AB%8B2%E5%80%8B%E7%8D%A8%E7%AB%8B%E7%9A%84%E4%B8%BB%E9%A1%8C\"><span class=\"toc-text\">建立2個獨立的主題</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9C%A8app-component%E5%BB%BA%E7%AB%8B%E5%88%87%E6%8F%9B%E5%8A%9F%E8%83%BD\"><span class=\"toc-text\">在app.component建立切換功能</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#html\"><span class=\"toc-text\">html</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#ts\"><span class=\"toc-text\">ts</span></a></li></ol></li></ol>","author":{"name":"猴子工程師","slug":"blog-author","avatar":"https://i.imgur.com/5BVPyT3_d.webp","link":"/","description":"只要坑掉多了<br />猴子也能完成莎士比亞全集","socials":{"github":"https://github.com/Danny-CH4NG","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{},"next_post":{}}