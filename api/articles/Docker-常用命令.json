{"title":"Docker-常用命令","uid":"957e53f31bd0fb9b5252ab0e19bc3aaa","slug":"Docker-常用命令","date":"2021-08-22T07:33:44.000Z","updated":"2021-09-09T13:29:16.907Z","comments":true,"path":"api/articles/Docker-常用命令.json","keywords":null,"cover":null,"content":"<p><a href=\"https://docs.docker.com/reference/\">https://docs.docker.com/reference/</a></p>\n<h3 id=\"幫助命令\"><a href=\"#幫助命令\" class=\"headerlink\" title=\"幫助命令\"></a>幫助命令</h3><p>版本訊息</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">docker version<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>系統訊息，包含鏡像與容器數量</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">docker info<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>幫助命令</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">docker &lt;&gt; --help<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"鏡像命令\"><a href=\"#鏡像命令\" class=\"headerlink\" title=\"鏡像命令\"></a>鏡像命令</h3><h4 id=\"docker-images\"><a href=\"#docker-images\" class=\"headerlink\" title=\"docker images\"></a>docker images</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker images\n\nREPOSITORY    TAG       IMAGE ID       CREATED        SIZE\n鏡像倉庫源      標籤         id           創建時間        大小\n\n可選項\n\n-a, -all 所有鏡像\n-q, --quiet  只顯示id<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"docker-search\"><a href=\"#docker-search\" class=\"headerlink\" title=\"docker search\"></a>docker search</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker search &lt;名稱&gt;\n\n--filter&#x3D;STARS&#x3D;3000 搜索不小於3000<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"docker-pull\"><a href=\"#docker-pull\" class=\"headerlink\" title=\"docker pull\"></a>docker pull</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker pull &lt;名稱&gt;:&lt;版本 &gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"docker-rmi\"><a href=\"#docker-rmi\" class=\"headerlink\" title=\"docker rmi\"></a>docker rmi</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker rmi -f &lt;名稱或id&gt;\n\n全刪\ndocker rmi -f $(docker images -aq)\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n<h3 id=\"容器命令\"><a href=\"#容器命令\" class=\"headerlink\" title=\"容器命令\"></a>容器命令</h3><p>先有鏡像，才能創造容器</p>\n<h4 id=\"docker-run\"><a href=\"#docker-run\" class=\"headerlink\" title=\"docker run\"></a>docker run</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker run &lt;參數&gt; &lt;image&gt;\n\n--name&#x3D;&quot;名字&quot; 容器名字\n-d 後臺運行\n-it 交互運行，可進入容器查看\n-p 指定port 主機:容器\n\ndocker run -it centos &#x2F;bin&#x2F;bash 啟動centos並進入\nexit 停止退出\nCtrl + p + q 不停止退出<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"docker-ps\"><a href=\"#docker-ps\" class=\"headerlink\" title=\"docker ps\"></a>docker ps</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker ps 正在執行的\n-a  全部運行的\n-n&#x3D;1 最近1個\n-q 只顯示編號<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"docker-rm\"><a href=\"#docker-rm\" class=\"headerlink\" title=\"docker rm\"></a>docker rm</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker rm &lt;id&gt;\n\n全刪\ndocker rm -f $(docker ps -aq)\ndocker ps -a -q | xargs docker rm<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"docker-start-restart-stop-kill\"><a href=\"#docker-start-restart-stop-kill\" class=\"headerlink\" title=\"docker start restart stop kill\"></a>docker start restart stop kill</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker start &lt;id&gt;\ndocker restart &lt;id&gt;\ndocker stop &lt;id&gt;\ndocker kill &lt;id&gt;  強制停止<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"後臺啟動\"><a href=\"#後臺啟動\" class=\"headerlink\" title=\"後臺啟動\"></a>後臺啟動</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker run -d &lt;名字&gt; \ndocker ps  容器停止了\n常見錯誤： docker容器後台運行，需要前台進程，如果沒有就會自動停止<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"docker-logs\"><a href=\"#docker-logs\" class=\"headerlink\" title=\"docker logs\"></a>docker logs</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker logs -tf  &lt;id&gt;  全部\ndocker logs -tf --tail &lt;數量&gt; &lt;id&gt;  最近<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>插播：如何在docker centos寫腳本</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">docker run -d centos &#x2F;bin&#x2F;sh -c &quot;while true;do echo SoGod; sleep 1;done&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"docker-top\"><a href=\"#docker-top\" class=\"headerlink\" title=\"docker top\"></a>docker top</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker top &lt;id&gt;  查看進程訊息<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"docker-inspect\"><a href=\"#docker-inspect\" class=\"headerlink\" title=\"docker inspect\"></a>docker inspect</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker inspect &lt;id&gt;  查看容器詳細訊息<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"docker-exec\"><a href=\"#docker-exec\" class=\"headerlink\" title=\"docker exec\"></a>docker exec</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker exec -it &lt;id&gt; &#x2F;bin&#x2F;bash  進入正在運行的容器並開始新的終端\ndocker attach &lt;id&gt; 進入正在運行的容器，使用正在執行的終端<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"docker-cp\"><a href=\"#docker-cp\" class=\"headerlink\" title=\"docker cp\"></a>docker cp</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker cp &lt;id&gt;:&lt;容器路徑&gt; &lt;主機路徑&gt;  查看容器詳細訊息\n\n此處為手動。一般使用自動同步<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"docker-commit\"><a href=\"#docker-commit\" class=\"headerlink\" title=\"docker commit\"></a>docker commit</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">docker commit &lt;id&gt; &lt;目標鏡像名&gt;:&lt;tag&gt; 將容器提交為新的鏡像\n-m&#x3D;&quot;訊息&quot;\n-a&#x3D;&quot;作者&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n","text":"https://docs.docker.com/reference/ 幫助命令版本訊息 docker version 系統訊息，包含鏡像與容器數量 docker info 幫助命令 docker &lt;&gt; --help 鏡像命令docker imagesdocker im...","link":"","photos":[],"count_time":{"symbolsCount":"1.7k","symbolsTime":"2 mins."},"categories":[{"name":"Docker","slug":"Docker","count":1,"path":"api/categories/Docker.json"}],"tags":[{"name":"Docker","slug":"Docker","count":1,"path":"api/tags/Docker.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%B9%AB%E5%8A%A9%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">幫助命令</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%8F%A1%E5%83%8F%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">鏡像命令</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#docker-images\"><span class=\"toc-text\">docker images</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#docker-search\"><span class=\"toc-text\">docker search</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#docker-pull\"><span class=\"toc-text\">docker pull</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#docker-rmi\"><span class=\"toc-text\">docker rmi</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">容器命令</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#docker-run\"><span class=\"toc-text\">docker run</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#docker-ps\"><span class=\"toc-text\">docker ps</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#docker-rm\"><span class=\"toc-text\">docker rm</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#docker-start-restart-stop-kill\"><span class=\"toc-text\">docker start restart stop kill</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%BE%8C%E8%87%BA%E5%95%9F%E5%8B%95\"><span class=\"toc-text\">後臺啟動</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#docker-logs\"><span class=\"toc-text\">docker logs</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#docker-top\"><span class=\"toc-text\">docker top</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#docker-inspect\"><span class=\"toc-text\">docker inspect</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#docker-exec\"><span class=\"toc-text\">docker exec</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#docker-cp\"><span class=\"toc-text\">docker cp</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#docker-commit\"><span class=\"toc-text\">docker commit</span></a></li></ol></li></ol>","author":{"name":"猴子工程師","slug":"blog-author","avatar":"https://i.imgur.com/5BVPyT3_d.webp","link":"/","description":"只要坑掉多了<br />猴子也能完成莎士比亞全集","socials":{"github":"https://github.com/Danny-CH4NG","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Angular-色彩主題切換","uid":"a47de5cab978593bde43925482e0346b","slug":"Angular-色彩主題切換","date":"2021-08-30T12:40:22.000Z","updated":"2021-09-09T13:29:34.813Z","comments":true,"path":"api/articles/Angular-色彩主題切換.json","keywords":null,"cover":[],"text":"簡單介紹一下色彩切換功能 建立2個獨立的主題$dark-primary: mat-palette($dark-primary, 900); $dark-accent: mat-palette($mat-cyan); $dark-warn: mat-palette($mat-red...","link":"","photos":[],"count_time":{"symbolsCount":"1.7k","symbolsTime":"2 mins."},"categories":[{"name":"Angular","slug":"Angular","count":1,"path":"api/categories/Angular.json"}],"tags":[{"name":"Material-UI","slug":"Material-UI","count":1,"path":"api/tags/Material-UI.json"}],"author":{"name":"猴子工程師","slug":"blog-author","avatar":"https://i.imgur.com/5BVPyT3_d.webp","link":"/","description":"只要坑掉多了<br />猴子也能完成莎士比亞全集","socials":{"github":"https://github.com/Danny-CH4NG","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{}}